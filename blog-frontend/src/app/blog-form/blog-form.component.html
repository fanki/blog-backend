<form (ngSubmit)="createPost()" class="blog-form">

  <h2>Neuen Blog erstellen</h2>

  <!-- Titel -->
  <div class="form-group">
    <label for="title">Titel</label>
    <input
      id="title"
      [(ngModel)]="title"
      name="title"
      type="text"
      class="form-control"
      placeholder="Mindestens 5 Zeichen..."
      (input)="onInputChange()"
      required
    />
  </div>

  <!-- Inhalt -->
  <div class="form-group">
    <label for="content">Inhalt</label>
    <textarea
      id="content"
      [(ngModel)]="content"
      name="content"
      rows="5"
      class="form-control"
      placeholder="Mindestens 10 Zeichen..."
      (input)="onInputChange()"
      required
    ></textarea>
  </div>

  <!-- Tags / Chips Eingabe -->
  <mat-form-field class="tags-input" appearance="fill">
    <mat-chip-grid #chipGrid aria-label="Tag-Auswahl">
  
      <!-- Bestehende Tags als Rows -->
      <mat-chip-row
        *ngFor="let tag of selectedTags"
        [removable]="true"
        (removed)="removeTag(tag)"
      >
        {{ tag }}
        <button matChipRemove>
          <mat-icon>cancel</mat-icon>
        </button>
      </mat-chip-row>
  
      <!-- Input für neue Tags -->
      <input
        placeholder="Neues Tag hinzufügen..."
        matInput
        [matChipInputFor]="chipGrid"
        [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
        (matChipInputTokenEnd)="addTag($event)"
      />
  
    </mat-chip-grid>
  </mat-form-field>
  

  <!-- Vorschläge -->
  <div *ngIf="suggestedTags.length > 0" class="suggested-tags">
    <p>Vorgeschlagene Tags:</p>
    <span
      class="suggested-tag"
      *ngFor="let tag of suggestedTags"
      (click)="addSuggestedTag(tag)"
    >
      {{ tag }}
    </span>
  </div>

  <!-- Blog erstellen -->
  <button type="submit" class="btn-primary">Erstellen</button>

  <!-- Toast -->
  <div *ngIf="showToast" class="toast">
    ✅ Blog erfolgreich erstellt!
  </div>

</form>
